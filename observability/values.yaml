# grafana:
#   image:
#     repository: grafana/grafana
#     tag: 10.2.3
#   replicas: 1

#   grafana.ini:
#     server:
#       root_url: "%(protocol)s://%(domain)s/grafana"
#       serve_from_sub_path: true

# prometheus:
#   prometheusSpec:
#     storageSpec: {}

# alertmanager:
#   alertmanagerSpec:
#     storage: {}

# prometheus:
#   prometheusSpec:
#     resources:
#       requests:
#         memory: 256Mi
#         cpu: 200m
#       limits:
#         memory: 512Mi
#         cpu: 500m

# grafana:
#   resources:
#     requests:
#       memory: 128Mi
#       cpu: 100m
#     limits:
#       memory: 256Mi
#       cpu: 250m

# kube-state-metrics:
#   resources:
#     requests:
#       memory: 64Mi
#       cpu: 50m
#     limits:
#       memory: 128Mi
#       cpu: 100m
# ----------------------
kubeEtcd:
  enabled: false

kubeControllerManager:
  enabled: false

kubeScheduler:
  enabled: false

kubeProxy:
  enabled: false

# CoreDNS exists but causes issues - disable monitoring
coreDns:
  enabled: false

# ===================================
# Prometheus Configuration
# ===================================
prometheus:
  enabled: true
  prometheusSpec:
    # Resource limits
    resources:
      requests:
        memory: 256Mi
        cpu: 200m
      limits:
        memory: 512Mi
        cpu: 500m
    
    # Data retention
    retention: 7d
    retentionSize: "8GB"

# ===================================
# Grafana Configuration
# ===================================
# grafana:
#   enabled: true
  
#   # Admin credentials
#   adminPassword: "Admin@123"  # Change this!
  
#   # Resources
#   resources:
#     requests:
#       memory: 128Mi
#       cpu: 100m
#     limits:
#       memory: 256Mi
#       cpu: 250m
  
#   # Service type
#   service:
#     type: LoadBalancer  # or ClusterIP if using Ingress
  
#   # Persistence (optional)
#   persistence:
#     enabled: true
#     size: 5Gi
  
  # Datasources (Prometheus auto-configured)
  # Additional datasources can be added here

# ===================================
# Kube State Metrics
# ===================================
kube-state-metrics:
  enabled: true
  resources:
    requests:
      memory: 64Mi
      cpu: 50m
    limits:
      memory: 128Mi
      cpu: 100m

# ===================================
# Node Exporter
# ===================================
prometheus-node-exporter:
  enabled: true
  resources:
    requests:
      memory: 32Mi
      cpu: 50m
    limits:
      memory: 64Mi
      cpu: 100m

# ===================================
# Kubelet Monitoring (Works in EKS)
# ===================================
kubelet:
  enabled: true
  serviceMonitor:
    https: true

